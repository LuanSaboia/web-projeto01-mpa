<%- include('../template/header-nav'); %>
  <div class="login-card" style="flex-direction:row-reverse">
    <div class="login-image">
      <img src="caminho/para/imagem.jpg" alt="Imagem de Login">
    </div>
    <div class="login-form">
      <h2>Editar Senha</h2>
      <form action="/loja/conta-senha/<%= user._id %>" method="POST">
        <div class="form-group">
          <label for="nome-completo">Usuário</label>
          <input type="text" id="nome-completo" name="nome" placeholder="Digite seu nome completo" value="<%= user.nome %>" readonly style="background: #e9e9e9;">
        </div>
        <div class="form-group">
          <label for="password">Senha Atual</label>
          <input type="password" id="current-password" name="senhaAtual" placeholder="Digite sua senha" required>
        </div>
        <div class="form-group">
          <label for="password">Nova Senha</label>
          <input type="password" id="password" name="senha" placeholder="Digite sua senha" required>
        </div>
        <div class="form-group">
          <label for="confirm-password">Confirmação de Senha</label>
          <input type="password" id="confirm-password" placeholder="Confirme sua senha"> <br><br>
          <button type="submit">Salvar</button>
        </div>
      </form>
    </div>
  </div>   

  <script>
    // Obtém referências para os campos de senha e confirmação de senha
    const passwordField = document.getElementById('password');
    const confirmPasswordField = document.getElementById('confirm-password');
  
    // Função para verificar se as senhas são iguais
    function checkPasswordMatch() {
      const password = passwordField.value;
      const confirmPassword = confirmPasswordField.value;
  
      if (password === confirmPassword) {
        // Senhas coincidem, remover mensagem de erro (se houver)
        confirmPasswordField.setCustomValidity('');
      } else {
        // Senhas não coincidem, exibir mensagem de erro
        confirmPasswordField.setCustomValidity('As senhas não coincidem');
      }
    }
  
    // Event listener para verificar as senhas ao digitar
    passwordField.addEventListener('input', checkPasswordMatch);
    confirmPasswordField.addEventListener('input', checkPasswordMatch);
  </script>
  
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha384-nvAa0+6Qg9clwYCGGPpDQLVpLNn0fRaROjHqs13t4Ggj3Ez50XnGQqc/r8MhnRDZ" crossorigin="anonymous"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js" integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd" crossorigin="anonymous"></script>
  </body>
</html>
